openapi: 3.0.0
info:
  title: Pait Doc
  version: 0.0.1
servers:
- url: http://127.0.0.1
tags:
- name: test
  description: test api
- name: user
  description: user api
- name: post
  description: ''
- name: depend
  description: ''
- name: get
  description: ''
paths:
  /api/raise_tip:
    post:
      tags:
      - test
      deprecated: true
      summary: test pait raise tip
      operationId: test_raise_tip
      parameters:
      - name: content_type
        in: header
        required: true
        description: content-type
        schema:
          title: Content Type
          description: content-type
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
      requestBody:
        content:
          application/json:
            schema:
              title: DynamicModel
              type: object
              properties:
                uid:
                  title: Uid
                  type: integer
                user_name:
                  title: User Name
                  type: string
                age:
                  title: Age
                  type: integer
              required:
              - uid
              - user_name
              - age
  /api/pait_model:
    get:
      tags:
      - test
      summary: Test Field
      operationId: test_pait_model
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema: &id001
          title: Uid
          description: user id
          exclusiveMinimum: 10
          exclusiveMaximum: 1000
          type: integer
      - name: user_name
        in: query
        required: true
        description: user name
        schema: &id002
          title: User Name
          description: user name
          maxLength: 4
          minLength: 2
          type: string
      - name: age
        in: query
        required: true
        description: age
        schema: &id003
          title: Age
          description: age
          exclusiveMinimum: 1
          exclusiveMaximum: 100
          type: integer
      - name: user-agent
        in: header
        required: true
        description: user agent
        schema: &id004
          title: User-Agent
          description: user agent
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
    head:
      tags:
      - test
      summary: Test Field
      operationId: test_pait_model
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema: *id001
      - name: user_name
        in: query
        required: true
        description: user name
        schema: *id002
      - name: age
        in: query
        required: true
        description: age
        schema: *id003
      - name: user-agent
        in: header
        required: true
        description: user agent
        schema: *id004
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
  /api/post:
    post:
      tags:
      - user
      - post
      summary: Test Method:Post Pydantic Model
      operationId: test_post
      parameters:
      - name: requestBody.content.<media-type>
        in: header
        required: true
        description: content-type
        schema:
          title: Content-Type
          description: content-type
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
      requestBody:
        content:
          application/json:
            schema:
              title: DynamicModel
              type: object
              properties:
                uid:
                  title: Uid
                  type: integer
                user_name:
                  title: User Name
                  type: string
                age:
                  title: Age
                  type: integer
              required:
              - uid
              - user_name
              - age
  /api/depend:
    get:
      tags:
      - user
      - depend
      summary: Test Method:Post request, Pydantic Model
      operationId: test_depend
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema: &id005
          title: Uid
          description: user id
          exclusiveMinimum: 10
          exclusiveMaximum: 1000
          type: integer
      - name: user_name
        in: query
        required: true
        description: user name
        schema: &id006
          title: User Name
          description: user name
          maxLength: 4
          minLength: 2
          type: string
      - name: age
        in: query
        required: true
        description: age
        schema: &id007
          title: Age
          description: age
          exclusiveMinimum: 1
          exclusiveMaximum: 100
          type: integer
      - name: user-agent
        in: header
        required: true
        description: user agent
        schema:
          title: User-Agent
          description: user agent
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
    head:
      tags:
      - user
      - depend
      summary: Test Method:Post request, Pydantic Model
      operationId: test_depend
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema: *id005
      - name: user_name
        in: query
        required: true
        description: user name
        schema: *id006
      - name: age
        in: query
        required: true
        description: age
        schema: *id007
      - name: user-agent
        in: header
        required: true
        description: user agent
        schema:
          title: User-Agent
          description: user agent
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
  /api/get/{age}:
    get:
      tags:
      - user
      - get
      summary: Test Field
      operationId: test_get
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema:
          title: Uid
          description: user id
          exclusiveMinimum: 10
          exclusiveMaximum: 1000
          type: integer
      - name: user_name
        in: query
        required: true
        description: user name
        schema:
          title: User Name
          description: user name
          maxLength: 4
          minLength: 2
          type: string
      - name: email
        in: query
        required: false
        description: user email
        schema:
          title: Email
          description: user email
          default: example@xxx.com
          type: string
      - name: sex
        in: query
        required: false
        description: sex
        schema:
          title: SexEnum
          description: An enumeration.
          enum:
          - man
          - woman
      - name: age
        in: path
        required: true
        description: age
        schema:
          title: Age
          description: age
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/_ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
    head:
      tags:
      - user
      - get
      summary: Test Field
      operationId: test_get
      parameters:
      - name: uid
        in: query
        required: true
        description: user id
        schema:
          title: Uid
          description: user id
          exclusiveMinimum: 10
          exclusiveMaximum: 1000
          type: integer
      - name: user_name
        in: query
        required: true
        description: user name
        schema:
          title: User Name
          description: user name
          maxLength: 4
          minLength: 2
          type: string
      - name: email
        in: query
        required: false
        description: user email
        schema:
          title: Email
          description: user email
          default: example@xxx.com
          type: string
      - name: sex
        in: query
        required: false
        description: sex
        schema:
          title: SexEnum
          description: An enumeration.
          enum:
          - man
          - woman
      - name: age
        in: path
        required: true
        description: age
        schema:
          title: Age
          description: age
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/_ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
  /api/cbv:
    get:
      tags:
      - user
      - get
      summary: Text Pydantic Model and Field
      operationId: TestCbv.get
      parameters:
      - name: age
        in: query
        required: true
        description: age
        schema: *id007
      - name: uid
        in: query
        required: true
        description: user id
        schema:
          title: Uid
          description: user id
          exclusiveMinimum: 10
          exclusiveMaximum: 1000
          type: integer
      - name: user_name
        in: query
        required: true
        description: user name
        schema:
          title: User Name
          description: user name
          maxLength: 4
          minLength: 2
          type: string
      - name: email
        in: query
        required: false
        description: user email
        schema:
          title: Email
          description: user email
          default: example@xxx.com
          type: string
      - name: user-agent
        in: header
        required: true
        description: ua
        schema:
          title: User-Agent
          description: ua
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/_ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
    post:
      tags:
      - user
      - post
      summary: test cbv post method
      operationId: TestCbv.post
      parameters:
      - name: user-agent
        in: header
        required: true
        description: ua
        schema:
          title: User-Agent
          description: ua
          type: string
      responses:
        200:
          description: success response|fail response
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/ResponseUserModel'
                - $ref: '#/components/schemas/ResponseFailModel'
      requestBody:
        content:
          application/json:
            schema:
              title: DynamicModel
              type: object
              properties:
                uid:
                  title: Uid
                  type: integer
                user_name:
                  title: User Name
                  type: string
                age:
                  title: Age
                  type: integer
              required:
              - uid
              - user_name
              - age
components:
  schemas:
    ResponseUserModel:
      title: ResponseUserModel
      type: object
      properties:
        code:
          title: Code
          description: api code
          default: 0
          type: integer
        msg:
          title: Msg
          description: api status msg
          default: success
          type: string
        data:
          title: Data
          type: array
          items:
            $ref: '#/components/schemas/_BaseModel'
      required:
      - data
    ResponseFailModel:
      title: ResponseFailModel
      type: object
      properties:
        code:
          title: Code
          description: api code
          default: 1
          type: integer
        msg:
          title: Msg
          description: api status msg
          default: fail
          type: string
    _ResponseUserModel:
      title: _ResponseUserModel
      type: object
      properties:
        code:
          title: Code
          description: api code
          default: 0
          type: integer
        msg:
          title: Msg
          description: api status msg
          default: success
          type: string
        data:
          $ref: '#/components/schemas/_BaseModel'
      required:
      - data
